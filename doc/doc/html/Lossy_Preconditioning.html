<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BUTTERFLYPACK v@PROJECT_VERSION@: Lossy and Lossless Compression Preconditioning</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="../custom-style/my_customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname" style="font-family: silom;"><a href="#"><img src="logo.png" style="height:80px"></a>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('Lossy_Preconditioning.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Lossy and Lossless Compression Preconditioning </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Compression of the sparse triangular factors is implemented using the <b>ZFP</b> library (&gt;= 0.5.5):</p>
<p ><a class="el" href=""><a href="https://computing.llnl.gov/projects/floating-point-compression">https://computing.llnl.gov/projects/floating-point-compression</a> </a></p>
<p >STRUMPACK needs to be configured with <b>ZFP</b> support: </p><div class="fragment"><div class="line">&gt; cmake ../ \</div>
<div class="line">      -DTPL_ENABLE_ZFP=ON \</div>
<div class="line">      -DTPL_ZFP_INCLUDE_DIRS=$ZFPHOME/include \</div>
<div class="line">      -DTPL_ZFP_LIBRARIES=&quot;$ZFPHOME/lib/libzfp.so&quot; </div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md20"></a>
Lossy compression</h2>
<p >When enabled, lossy compression will compress the sparse triangular factors, hence reducing the overall memory requirements of the solver and allowing users to solver larger problems. Because compression is lossy, the solver will be approximate (a preconditioner), and the default outer iterative solver will in this case be preconditioned GMRES. All computations will still be performed in the original precision specified by the user, so one should not expect any speedup from this compression.</p>
<p >Lossy compression can be enabled/disabled via the command line options: </p><div class="fragment"><div class="line">--sp_compression lossy</div>
<div class="line">--sp_compression none</div>
</div><!-- fragment --><p> or via the C++ API as follows </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> strumpack::SPOptions::set_compression(CompressionType::LOSSY);</div>
<div class="line"><span class="keywordtype">void</span> strumpack::SPOptions::set_compression(CompressionType::NONE);   <span class="comment">// disable</span></div>
<div class="line">CompressionType strumpack::SPOptions::compression() <span class="keyword">const</span>;  <span class="comment">// get compression type (none/hss/blr/hodlr)</span></div>
</div><!-- fragment --><p >The lossy compression uses fixed precision (see <a class="el" href=""><a href="https://zfp.readthedocs.io/en/release0.5.4/modes.html#modes">https://zfp.readthedocs.io/en/release0.5.4/modes.html#modes</a> </a>). The precision is specified in number of bit planes, and can be set with: </p><div class="fragment"><div class="line">--sp_lossy_precision [1-64] (default 16)</div>
</div><!-- fragment --><p> or via the C++ API as follows </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> strumpack::SPOptions::set_lossy_precision(<span class="keywordtype">int</span> p);</div>
<div class="line"><span class="keywordtype">int</span> strumpack::SPOptions::lossy_precision() <span class="keyword">const</span>;  <span class="comment">// get precision</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21"></a>
Lossless compression</h2>
<p >For lossless compression, set the precision to 0 or a negative value.</p>
<p >The lossless compression mode will not be able to achieve much compression, but the solver will be exact. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="prec.html">Preconditioners</a></li>
    <li><a href="https://github.com/pghysels/STRUMPACK">STRUMPACK on Github</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
